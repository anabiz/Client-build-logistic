using Microsoft.AspNetCore.Mvc;\nusing UserService.Application.Interfaces;\nusing Shared.Controllers;\nusing Shared.Models;\n\nnamespace UserService.Controllers;\n\n[ApiVersion(\"1.0\")]\n[Route(\"api/v{version:apiVersion}/[controller]\")]\npublic class AuditLogsController : BaseController\n{\n    private readonly IAuditLogAppService _auditLogService;\n\n    public AuditLogsController(IAuditLogAppService auditLogService)\n    {\n        _auditLogService = auditLogService;\n    }\n\n    [HttpGet]\n    public async Task<IActionResult> GetAuditLogs([FromQuery] AuditLogQuery query)\n    {\n        var result = await _auditLogService.GetAuditLogsAsync(query);\n        return Success(result);\n    }\n\n    [HttpGet(\"{id}\")]\n    public async Task<IActionResult> GetAuditLog(string id)\n    {\n        var result = await _auditLogService.GetAuditLogByIdAsync(id);\n        return result != null ? Success(result) : NotFound(\"Audit log not found\");\n    }\n\n    [HttpGet(\"actions\")]\n    public async Task<IActionResult> GetActions()\n    {\n        var result = await _auditLogService.GetActionsAsync();\n        return Success(result);\n    }\n\n    [HttpGet(\"users/{userId}\")]\n    public async Task<IActionResult> GetUserAuditLogs(string userId, [FromQuery] AuditLogQuery query)\n    {\n        query.UserId = userId;\n        var result = await _auditLogService.GetAuditLogsAsync(query);\n        return Success(result);\n    }\n\n    [HttpGet(\"items/{itemId}\")]\n    public async Task<IActionResult> GetItemAuditLogs(string itemId, [FromQuery] AuditLogQuery query)\n    {\n        query.ItemId = itemId;\n        var result = await _auditLogService.GetAuditLogsAsync(query);\n        return Success(result);\n    }\n\n    [HttpGet(\"export\")]\n    public async Task<IActionResult> ExportAuditLogs([FromQuery] AuditLogQuery query)\n    {\n        var result = await _auditLogService.ExportAuditLogsAsync(query);\n        return File(result.Data, \"text/csv\", \"audit-logs.csv\");\n    }\n}